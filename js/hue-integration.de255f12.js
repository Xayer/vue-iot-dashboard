(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hue-integration"],{"3b51":function(e,t,r){},beaa:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",{attrs:{title:e.hueAvailable?"Connected":"Disconnected"}},[r("i",{staticClass:"bi bi-lightbulb",class:e.hueAvailable&&e.online&&e.token?"on":"off"}),e._v(" Hue "+e._s(e.hueAvailable?"Connected":"Disconnected")+" ")]),e.hueAvailable&&e.token&&e.devices&&e.devices.lights?r("Button",{staticClass:"m-t primary"},[e._v(e._s(e.lightLabel)+" Lights")]):e._e(),e.bridgeAddressNotFound?r("span",{staticClass:"m-r"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.bridgeAddress,expression:"bridgeAddress"}],attrs:{type:"text",placeholder:"Hue Bridge IP"},domProps:{value:e.bridgeAddress},on:{input:function(t){t.target.composing||(e.bridgeAddress=t.target.value)}}})]):e._e(),e.hueAvailable&&e.token?e._e():r("Button",{staticClass:"danger",on:{click:function(t){return e.registerToken()}}},[e._v("!")]),e.loading?r("span",{staticClass:"loading"},[e._v("Loading")]):e._e(),e.errorMessage?r("span",{staticClass:"error",domProps:{textContent:e._s(e.errorMessage)}}):e._e()],1)},i=[],n=(r("a4d3"),r("e01a"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),o=r("d4ec"),a=r("bee2"),d=r("99de"),c=r("7e84"),l=r("262e"),u=r("9ab4"),b=r("1b40"),g=r("2f62"),h=r("59e4");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(d["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.loading=!1,e.bridgeAddress="",e.bridgeAddressNotFound=!1,e.errorMessage="",e}return Object(l["a"])(t,e),Object(a["a"])(t,[{key:"created",value:function(){localStorage.bridge_address?(this.bridgeAddress=localStorage.bridge_address,this.bridgeAddressNotFound=!1):this.bridgeAddressNotFound=!0}},{key:"bridgeAddressChanged",value:function(e){var t=this;e?this.devicesTimeout=setInterval((function(){t.detectDevices()}),3e3):clearInterval(this.devicesTimeout)}},{key:"detectDevices",value:function(){var e=this;this.$store.dispatch("hue/getDevices").catch((function(t){e.errorMessage=t.description}))}},{key:"registerToken",value:function(){var e=this;this.bridgeAddressNotFound&&(this.$store.commit("hue/SET_BRIDGE_ADDRESS",this.bridgeAddress),this.bridgeAddressNotFound=!1,this.detectDevices()),this.token||(this.loading=!0,alert("go to your Hue Bridge and click the link button (circle). When you have done that, click okay."),this.$store.dispatch("hue/registerToken").then((function(){e.errorMessage="",e.$forceUpdate(),e.loading=!1})).catch((function(t){e.errorMessage=t.description,e.loading=!1})))}},{key:"lightLabel",get:function(){return this.devices&&this.devices.lights?Object.keys(this.devices.lights).length:"No"}}]),t}(b["d"]);u["a"]([Object(b["e"])("bridgeAddressNotFound")],f.prototype,"bridgeAddressChanged",null),f=u["a"]([Object(b["a"])({components:{Button:h["a"]},computed:p({},Object(g["b"])({devices:"hue/devices",token:"hue/token",hueAvailable:"hue/available",online:"internet/online"}))})],f);var O=f,y=O,k=(r("ebdc"),r("2877")),A=Object(k["a"])(y,s,i,!1,null,"308402b6",null);t["default"]=A.exports},ebdc:function(e,t,r){"use strict";var s=r("3b51"),i=r.n(s);i.a}}]);
//# sourceMappingURL=hue-integration.de255f12.js.map