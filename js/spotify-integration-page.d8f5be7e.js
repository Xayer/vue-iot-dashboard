(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["spotify-integration-page"],{"2eba":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h3",{staticClass:"m-b"},[e._v("Spotify")]),e.$route.query.code||e.integrationActive?e._e():r("a",{attrs:{href:e.authUrl}},[e._v("Authenticate with Spotify")]),e.topTracks?r("section",e._l(e.topTracks,(function(t){return r("article",{key:t.id},[t.album.images?r("img",{attrs:{src:t.album.images[2].url,alt:t.name+" - "+t.artists.join(", "),width:t.album.images[2].width,height:t.album.images[2].height}}):e._e(),r("div",{staticClass:"titles"},[r("h2",[r("a",{attrs:{href:t.href}},[e._v(e._s(t.name))])]),e._l(t.artists,(function(t){return r("h3",{key:t.id},[r("a",{attrs:{href:t.href}},[e._v(e._s(t.name))])])}))],2)])})),0):e._e()])},a=[],i=(r("99af"),r("d3b7"),r("96cf"),r("d4ec")),c=r("bee2"),s=r("99de"),o=r("7e84"),u=r("262e"),l=r("9ab4"),f=r("1b40"),h=r("7805"),g=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(s["a"])(this,Object(o["a"])(t).apply(this,arguments)),e.topTracks=[],e}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.getAccessToken();case 1:case"end":return e.stop()}}),null,this)}},{key:"getAccessToken",value:function(){var e,t,r=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(this.$route.query.code||this.integrationActive){n.next=2;break}return n.abrupt("return");case 2:if(e=localStorage.getItem(h["f"]),e&&"undefined"!==e){n.next=9;break}return localStorage.setItem(h["d"],JSON.stringify(!1)),n.next=7,regeneratorRuntime.awrap(Object(h["a"])(this.$route.query.code));case 7:t=n.sent,localStorage.setItem(h["f"],JSON.stringify(t.refresh_token));case 9:return n.next=11,regeneratorRuntime.awrap(Object(h["c"])().then((function(e){r.topTracks=e.items,localStorage.setItem(h["d"],JSON.stringify(!0))})).catch((function(){localStorage.setItem(h["d"],JSON.stringify(!1))})));case 11:case"end":return n.stop()}}),null,this)}},{key:"authUrl",get:function(){return"https://accounts.spotify.com/authorize?client_id=".concat(h["b"],"&response_type=code&redirect_uri=").concat(h["e"],"&scope=user-read-currently-playing%20\nuser-top-read")}},{key:"integrationActive",get:function(){return"true"===JSON.stringify(localStorage.getItem(h["d"]))}}]),t}(f["d"]);g=l["a"]([Object(f["a"])({})],g);var d=g,p=d,m=(r("df0c"),r("2877")),b=Object(m["a"])(p,n,a,!1,null,null,null);t["default"]=b.exports},7920:function(e,t,r){},df0c:function(e,t,r){"use strict";var n=r("7920"),a=r.n(n);a.a}}]);
//# sourceMappingURL=spotify-integration-page.d8f5be7e.js.map